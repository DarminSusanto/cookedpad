apiVersion: v1
kind: Secret
metadata:
  name: cookedpad-secrets
  namespace: cookedpad
  labels:
    app: cookedpad
type: Opaque
stringData:
  # MongoDB Connection
  MONGODB_URI: "mongodb+srv://darmin_susanto:PGJHkYIIxrxQmNic@cookedpad.yfqjrlk.mongodb.net/cookedpad"
  
  # JWT Secret
  JWT_SECRET: "your-super-secret-jwt-key-change-in-production-12345"
  
  # API Keys (if needed)
  API_KEY: "your-api-key-here"
  
  # Database Admin Password
  DB_ADMIN_PASSWORD: "secure-password-here"

---
# RBAC Configuration
apiVersion: v1
kind: ServiceAccount
metadata:
  name: cookedpad-sa
  namespace: cookedpad
  labels:
    app: cookedpad

---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: cookedpad-admin
  labels:
    app: cookedpad
rules:
- apiGroups: ["*"]
  resources: ["*"]
  verbs: ["*"]

---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: cookedpad-admin-binding
  labels:
    app: cookedpad
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cookedpad-admin
subjects:
- kind: ServiceAccount
  name: cookedpad-sa
  namespace: cookedpad
